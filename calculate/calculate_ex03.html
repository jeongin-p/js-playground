<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>계산기 만들어보기</title>
  </head>
  <body>
    <h1>사칙연산 계산기 만들기</h1>
    <div id="print">계산결과 나오는곳</div>

    <script>
      var input = { count: 2 };
      input.getFirstValue = function () {
        var n = Number(prompt("첫번째 값을 입력해주세요"));
        return n;
      };

      input.getSecondValue = function () {
        var n2 = Number(prompt(this.count + "번째 값을 입력해주세요"));
        this.count++;
        return n2;
      };

      input.getOperator = function () {
        while (true) {
          var op = prompt("연산자를 입력해주세요.");
          if (
            op === "+" ||
            op === "-" ||
            op === "*" ||
            op === "/" ||
            op === "q"
          ) {
            break;
          } else {
            alert("올바른 연산자를 입력해주세요");
          }
          return op;
        }
      };

      calculator = {};
      calculator.calculate = function (first, second, op) {
        var ret;
        switch (op) {
          case "+":
            ret = first + second;
            break;
          case "-":
            ret = first - second;
            break;
          case "*":
            ret = first * second;
            break;
          case "/":
            ret = first / second;
            break;
        }
        return ret;
      };

      output = {};
      output.print = function (value) {
        return "최종값은" + value + "입니다";
      };

      function main() {
        var result = input.getFirstValue();
        while (true) {
          var op = input.getOperator();
          if (op === "q") {
            break;
          }
          var num = input.getSecondValue();
          result = calculator.calculate(result, num, op);
        }
        var output = document.getElementById("print");
        print.innerHTML = output.print(result);
      }
      main();
    </script>
  </body>
</html>
